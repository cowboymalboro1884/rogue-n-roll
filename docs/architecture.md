## Схема архитектуры

```mermide
---
config:
  layout: dagre
---
flowchart TD
 subgraph CoreLogic["Ядро игровой логики"]
        GM("Игровой менеджер / Game Manager")
        WM("Менеджер мира / World Manager")
        EM("Менеджер сущностей / Entity Manager")
        CS("Боевая система / Combat System")
        IS("Система инвентаря / Inventory System")
        QS("Система квестов / Quest System")
        AIS("Система ИИ / AI System")
  end
 subgraph Presentation["Представление"]
        UA("Пользовательский интерфейс / User Interface")
        CR("Консольный рендерер / Console Renderer")
  end
    UA --> IH("Обработчик ввода / Input Handler") & CR
    IH --> GM
    GM --> WM & EM & CS & IS & QS & AIS
    WM --> MG("Генератор карт / Map Generator") & DM("Менеджер данных / Data Manager")
    EM --> DM
    IS --> DM
    QS --> DM
    CR --> WM & EM & IS
    WM -- Отображение карты --> CR
    EM -- Отображение сущностей --> CR
    IS -- Отображение инвентаря --> CR
```


## Описание компонентов:

- **Пользовательский интерфейс**: Компонент, отвечающий за отображение информации игроку и получение команд. Включает отображение карты, статов, инвентаря, сообщений.

- **Обработчик ввода**: Считывает инпут и передает их в команды для игрового менеджера.

- **Консольный рендерер**: Отвечает за отрисовку всего игрового состояния в текстовой консоли.

- **Игровой менеджер**: Управляет основным игровым циклом, состояниями игры, передает команды от игрока соответствующим системам и координирует ходы NPC/монстров.

- **Менеджер мира**: Управляет текущей игровой картой. Загрузкой/генерацией, хранение данных о клетках, расположении предметов и сущностей на карте.

- **Генератор карт**: Отвечает за генерацию карт уровней или загрузку предопределенных карт из файлов.

- **Менеджер сущностей**: Управляет всеми активными сущностями в игре. Хранит их состояние, характеристики.

- **Боевая система**: Реализует логику боя: расчет урона, применение эффектов, проверка условий победы/поражения в столкновении.

- **Система инвентаря**: Управляет инвентарем персонажа и других сущностей. Обрабатывает подбор, выбрасывание, использование, надевание/снятие предметов.

- **Система квестов**: Управляет созданием, отслеживанием состояния и завершением квестов.

- **Система ИИ**: Определяет поведение монстров и NPC: перемещение, выбор цели, использование способностей.

- **Менеджер данных**: Отвечает за загрузку/сохранение игровых данных: определения предметов, монстров, шаблоны квестов, возможно, состояние игры.
